---
title: "Untitled"
author: "曾婷婉"
date: "3/18/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

##package
```{r}
library(readr)
A02_company_all_public<-read_csv("https://www.dropbox.com/s/rtz2a9na62n3a8l/A02_company_all_public.csv?dl=1")
A02_company_all_public$`候選人` -> candidate
```


```{r}
a <- 2
a = 2 # = 與 <-同義
```

```{r}
3 -> b
```

```{r}
my_108_total_credits <- 15
_108_total_credits <- 15
108_total_credits <- 15
_my_108_total_credits <- 15
my.108.total_credits <- 15
.108.total_credits <- 15 # 隱藏變數
.my.108.total_credits <- 15
我的108學年總學分數 <- 15
`我的108學年總學分數` <- 15 # 特殊名稱處理，`不是名稱的一部份
`.108.total_credits` <- 15
```
```{r}
my_108_total_credits <- 15
_108_total_credits <- 15
108_total_credits <- 15
_my_108_total_credits <- 15
my.108.total_credits <- 15
.108.total_credits <- 15 # 隱藏變數
.my.108.total_credits <- 15
我的108學年總學分數 <- 15
`我的108學年總學分數` <- 15 # 特殊名稱處理，`不是名稱的一部份
`.108.total_credits` <- 15
```
```{r}
num1 <- 5
vNum1 <- c(2,5)
#右邊的num1是在call num1,會得到5相當於
vNum2 <- c(2, num1)
```

```{r}
vNum1 <- c(-1,5)
vNum2 <- c(2,3)
vNum3 <- c(vNum1,vNum2)
vNum4 <- c(-1,5,2,3)
vNum5 <- c(c(-1,5),c(2,3))
```
```{r}
vNumComplex <- c(c(1,3,c(-5,23)))
vNumComplexNotComplesAtAll <-
  c(1,3,-5,23)
```
```{r}
vNum1 <- c(-1,5)
vNum2 <- c(2,3)
vNum4 <- c() # 空向量
```
```{r}
vNum3 <- c(vNum2, vNum1)
vNum4 <- c(vNum4, vNum1) # 向量疊代 （recursive vector concatenate）
```
##Different types
```{r}
num1<-5 # 非整數
num2<-5L # 整數

num1Vector<-c(5,6,7)
num2Vector<-c(5L,6L,7L)
```
```{r}
typeof(num1Vector)
typeof(num2Vector)
```
```{r}
char1<-c("你好")
char2<-c('你好')
```

他說：“今天多了一個確診”

```{r}
HeSaid <-'他說："今天多了一個確診"'
```

```{r}
char1Vector<-c("你好","How are you?")
```

###Atomic

```{r}
complexVector <-c("小明今年歲數","15")
```

```{r}
library(httr)
library(dplyr)
GET("https://api.github.com/repos/tpemartin/108-2-56-inclass-practice/commits") %>%
  content() %>%
  View()
```

```{r}
```


```{r}
library(googlesheets4)
`出席狀況表單網址` <-"https://docs.google.com/spreadsheets/d/1EAG49qDKPWWi0ebkVr29TLrvVnoBPfkvxYY-J3xLAHY/edit#gid=458686645"  # 缺乏定義值
ss <- as_sheets_id(`出席狀況表單網址`)
homework_sheet <- sheets_read(ss,sheet=1)
```

```{r}
logi1 <- c(T,TRUE,F,FALSE,FALSE)
```

```{r}
vectorexample <-c(2,6,7)
listexample<-list(2,6,7)

print(vectorexample)
print(listexample)
```
```{r}
library(googlesheets4)
library(dplyr)
library(lubridate)
```

```{r}
#用vector儲存
c("2020-03-32T13:40:55z",
"一芳",
"2",
"水果茶")

#用list儲存
library(lubridate)
list(
 ymd_hms ("2020-03-32T13:40:55z"),#date/time
"一芳",#character
2,#numeric
"水果茶"#character
)
print("小明交易1")

```

```{r}
#用vector
c(
  c("108學年第1學期","高等會計學","高等統計學"),
  c("108學年第2學期","食在拉丁美洲")
)

#用list
list( 
  c("108學年第1學期","高等會計學","高等統計學"),
  c("108學年第2學期","食在拉丁美洲")
)

```
```{r}
#list含兩個vectors
`小明108學年課表A` <-list(
  c("108-1","高等會計學","高等統計學"),
  c("108-2","食在拉頂美洲")
)
print(`小明108學年課表A`)
```

```{r}
#list含兩個lists
`小明108學年課表A` <-list(
  list("108-1","高等會計學","高等統計學"),
  list("108-2","食在拉頂美洲")
)
print(`小明108學年課表A`)
```
```{r}
#list含兩個lists
`小明108學年課表c` <-list(
  list(
    c("108-1"),
    c("高等會計學","高等統計學")
    ),
  list(
    c("108-2"),
    c("食在拉頂美洲")
  )
)
print(`小明108學年課表c`)
```
物件可以取名
```{r}
`小明108學年課表c` <-list(
  `上學期`=list(
    semester=c("108-1"),
    courses=c("高等會計學","高等統計學")
    ),
  `下學期`=list(
    semester=c("108-2"),
    course=c("食在拉頂美洲")
  )
)
print(`小明108學年課表c`)
```

```{r}
commit <-list(
  author1 = list(
    name="Martin老師",
    email="mtlin@gm.ntpu.edu.tw",
    time="2020-03-25T07:17:40Z"),
  author2 = list(
    name="Martin老師",
    email="mtlin@gm.ntpu.edu.tw",
    time=ymd_hms("2020-03-25T07:17:40Z")),
  committer = list (
    "emilyluckey",
    "emily007@gmail.com",
    ymd_hms("2020-03-26T08:18:40Z")
  ),
  message = "update"
)
print(commit)
#  committer = ,
#  message = 
# )
```

```{r}
commit <-list(
  author = list(
    name="Martin老師",
    email="mtlin@gm.ntpu.edu.tw",
    time=("2020-03-25T07:17:40Z")
    ),
  committer = list (
    name="emilyluckey",
    emsil="emily007@gmail.com",
    time=ymd_hms("2020-03-26T08:18:40Z")
  ),
  message = "update"
)
print(commit)
#  committer = ,
#  message = 
# )
```

```{r}
library(jsonlite)
toJSON(commit)
```

```{r}
`108學年第一學期`<-list(
  event1 = list(
    name="Alice老師",
    courses="個體經濟學",
    score="85")
)
  event2 = list(
    name="Mark老師",
    courses="總體經濟學",
    score="73")
`108學年第二學期`<-list(
  event3 = list(
    name="Jason老師",
    courses="作業研究",
    score="90")
)
```

```{r}
"2020-03-31-2020-04-01"<-list(
  name="台北市",
  tem=24,
  name="新北市",
  tem=25
)
```

```{r}
`天氣預報` <- list(
  `台北市氣溫`=list(`日期`=ymd("2020-03-31","2020-04-01"),city1="台北市",`最高氣溫`="25",`最低氣溫`="18")
  `新北市氣溫`=list(
    city2="新北市",`最高氣溫`="24",`最低氣溫`="15")
）
print(`天氣預報`)

```

```{r}
weather_forecast <- list(
  city="台北市",
  date=list(
    today=ymd("2020-03-31"),
    tomorrow=ymd("2020-04-01")),
  MaxT=25,
  MinT=18,
  city="新北市",
  date=list(
    today=ymd("2020-03-31"),
    tomorrow=ymd("2020-04-01")),

  MaxT=24,
  MinT=15
)
print(weather_forecast)
```

```{r}
weather=list(
`今日雙北天氣`=list(
   time=ymd("2020-03-31"),
   `台北市`=list(
   `the highest temperature`=25,
   `the lowest temperature`=18),
   `新北市`=list(
   `the highest temperature`=24,
   `the lowest temperature`=15)
  ),
`明日雙北天氣`=list(
   time=ymd("2020-04-01"),
   `台北市`=list(
   `the highest temperature`=25,
   `the lowest temperature`=18
   ),
   `新北市`=list(
   `the highest temperature`=24,
   `the lowest temperature`=15
   )
  )
)
print(weather)
```

```{r}
 `weather`=list( 
   `台北市氣溫`=list(
   time=ymd("2020-03-31","2020-04-01"),
   `台北市`=list(
   `the highest temperature`=25,
   `the lowest temperature`=18)
  ),
   `新北市氣溫`=list(
   time=ymd("2020-03-31","2020-04-01"),
   `新北市`=list(
   `the highest temperature`=24,
   `the lowest temperature`=15)
  )
 )
print(weather)
```

```{r}
`weather` <- list(
  `台北市氣溫`=list(
  `台北市`=list(
  `date`=ymd("2020-03-31","2020-04-01"),`最高氣溫`=25,`最低氣溫`=18)
  ),
  `新北市氣溫`=list(
  `新北市`=list(
  `date`=ymd("2020-03-31","2020-04-01"),`最高氣溫`=24,`最低氣溫`=15)
  )
)
print(weather)
```
```{r}
vectorExample <- c("小明","小英","大雄")
#有多少位置可以選：
length(vectorExample)
```
```{r}
vectorExample[[1]]
vectorExample[[3]]
```

```{r}
listExample <-
  list(
    student="小明",
    `學期`=list(
      `108-1`=list(
        list(
          name="個體經濟學",
          teacher="alice",
          grade=85
        )
      ),
      `108-2`=list(
        list(
          name="總體經濟學",
          teacher="mark",
          grade=78
        )
      )
    )
  )
length(listExample)
```
```{r}
listExample[[1]]
listExample[[2]]
```
```{r}
library(jsonlite)
fromJSON("https://data.tainan.gov.tw/dataset/4cd9345a-04bf-4328-a97d-314ff78b4763/resource/afc025fc-1ef4-447c-b785-a680391d0ca1/download/tnsport2.json", simplifyDataFrame = F) -> tainanSportsMap

length(tainanSportsMap)
```
```{r}
names(listExample)
```
```{r}
listExample$student
listExample$`學期`
```
```{r}
listExample[["student"]]
listExample$student

listExample[["學期"]]
listExample$`學期`
```
```{r}
fromJSON("http://data.ntpc.gov.tw/api/v1/rest/datastore/382000000A-000157-002",
         simplifyDataFrame = F) -> newTaipeiCityVaccine
```
```{r}
str(newTaipeiCityVaccine[[1]])
str(newTaipeiCityVaccine$success)
str(newTaipeiCityVaccine[["success"]])
```

```{r}

str(listExample)
```

```{r}
tainanSportsMap[[1]]
tainanSportsMap[[1076]]
```
```{r}
vectorExample
vectorExample[c(1,3)]
vectorExample[c(3,2,1)]
```
```{r}
str(listExample,max.level=1)
str(listExample[c(1,2)],max.level=1)
str(listExample[c(2,1)],max.level=1)
listExample[c(1,2)]
```
```{r}
fromJSON("https://www.dropbox.com/s/qnm9bnz7vccrvcz/taipeiNightMarkets.json?dl=1", simplifyDataFrame = F)->taipeiNightMarkets
```
```{r}
vectorExample
vectorExample[c(T,T,F)]
```
```{r}
names(taipeiNightMarkets)
```
```{r}
c(T,F,F,F,T,F,F,F,F,T,F,F,T) ->taipeiNightMarkets
str(taipeiNightMarkets[c(T,F,F,F,T,F,F,F,F,T,F,F,T)],max.level=1)
```

```{r}
numVector<-c(2,3,6,-1,4,3,6)
select1<-numVector[c(1,4)]; select1
select2<-select[[1]]; select2
numVector[c(1,4)[1]]
```

```{r}
majors <- c("經濟學系","經濟學系","社會學系","社工系","經濟學系")
names <- c("小英", "小美", "大雄","阿華", "阿尼")
gender <- c("F","F","M","F","M")

str(majors[c(T,T,F,F,T)])<-econOnly
str

```
```{r}
if(!require("readr")){
  install.packages("readr")
}
sink("report.txt")
Sys.getenv()
Sys.getlocale()
readr::locale()
sessionInfo()
sink()
warning(
  'Please upload the following file: \n',
  file.path(getwd(),"report.txt"),
  '\nto the following website:\n',
  'https://forms.gle/vPoQ1MC4cNEJuNqM8'
)
```

```{r}
my_108_total_credits <- 15
_108_total_credits <- 15
108_total_credits <- 15
_my_108_total_credits <- 15
my.108.total_credits <- 15
.108.total_credits <- 15 # 隱藏變數
.my.108.total_credits <- 15
我的108學年總學分數 <- 15
`我的108學年總學分數` <- 15 # 特殊名稱處理，`不是名稱的一部份
`.108.total_credits` <- 15
```
```{r}
num <- c(1.5, 2, 3)
int <- c(1L, 3L, -2L)
char <- c("1.5","2","3")
logi <- c(T,T,F)

typeof(num)
typeof(int)
typeof(char)
typeof(logi)

class(num)
class(int)
class(char)
class(logi)

```
```{r}
# 10位學生的主系
majors10_char <- c('經濟學系','社會學系','社會學系','經濟學系','經濟學系','社會學系','經濟學系','經濟學系','經濟學系','社會學系')

typeof(majors10_char)
class(majors10_char)
```

```{r}
majors10_factor <- factor(majors10_char)
# 或
majors10_factor <- factor(
  c('經濟學系','社會學系','社會學系','經濟學系','經濟學系','社會學系','經濟學系','經濟學系','經濟學系','社會學系')
)

typeof(majors10_factor)
class(majors10_factor)
```